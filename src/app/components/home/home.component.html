<div class="row mb-3">
  <nav class="col navbar navbar-expand-md navbar-light bg-light">
    <a class="navbar-brand" href="/">{{ 'app-title' | translate }}</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item px-3 configuration">
          <button pButton type="button" icon="pi pi-cog" [title]="'configuration.title' | translate" (click)="handleConfigure()"></button>
        </li>
        <li class="nav-item px-3 lang-select">
          <select #langSelect (change)="translate.use(langSelect.value)" class="form-control">
            <option *ngFor="let lang of translate.getLangs()" [value]="lang" [selected]="lang === translate.currentLang">{{ lang }}</option>
          </select>
        </li>
      </ul>
    </div>
  </nav>
</div>

<div class="row">
  <div class="col">
    <h4 class="mb-2">{{ 'actions.add' | translate }}</h4>
    <div class="add">
      <button pButton type="button" icon="pi pi-plus" label="MSH" [title]="'sections.msh.title' | translate" (click)="addSection('MSH')" class="mr-2"></button>
      <button pButton type="button" icon="pi pi-plus" label="OBX" [title]="'sections.obx.title' | translate" (click)="addSection('OBX')" class="mr-2"></button>
      <button pButton type="button" icon="pi pi-plus" label="PID" [title]="'sections.pid.title' | translate" (click)="addSection('PID')" class="mr-2"></button>
      <button pButton type="button" icon="pi pi-plus" label="PV1" [title]="'sections.pv1.title' | translate" (click)="addSection('PV1')" class="mr-2"></button>
    </div>

    <h4 class="mt-4 mb-2">{{ 'titles.sections' | translate }}</h4>
    <div class="sections">
      <div class="section" *ngFor="let item of sections">
        <section [section]="item" (remove)="handleRemoveSection($event)" (change)="handleChangeSection()"></section>
      </div>
    </div>
  </div>
  <div class="col">
    <h4 class="mb-2">{{ 'titles.hl7-message' | translate }}</h4>
    <textarea pInputTextarea class="hl7-textarea form-control mb-2" autoResize="autoResize" [(ngModel)]="hl7"></textarea>
    <div class="actions">
      <button pButton type="button" icon="pi pi-eject" [label]="'actions.parse' | translate" (click)="parseHl7()" [disabled]="hl7 === expectedHl7" class="mr-2"></button>
      <button pButton type="button" icon="pi pi-clone" [label]="'actions.copy-to-clipboard' | translate" (click)="copyHl7ToClipboard()" class="mr-2"></button>
    </div>
  </div>
</div>
